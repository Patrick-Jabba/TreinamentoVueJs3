"use strict";(self["webpackChunkdashboard"]=self["webpackChunkdashboard"]||[]).push([[229],{1229:function(e,a,s){s.r(a),s.d(a,{default:function(){return D}});var t=s(3396),r=s(9242),o=s(7139);const l={class:"flex justify-between",id:"modal-login"},n=(0,t._)("h1",{class:"text-4xl font-black text-gray-800"},"Entre na sua conta",-1),i={class:"mt-16"},d={class:"block"},u=(0,t._)("span",{class:"text-lg font-medium text-gray-800"},"E-mail",-1),c={key:0,id:"email-error",class:"block font-medium text-brand-danger"},m={class:"block mt-9"},g=(0,t._)("span",{class:"text-lg font-medium text-gray-800"},"Senha",-1),p={key:0,class:"block font-medium text-brand-danger"},b=["disabled"],w={key:1};function f(e,a,s,f,y,h){const k=(0,t.up)("Icon");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",l,[n,(0,t._)("button",{onClick:a[0]||(a[0]=(...e)=>f.close&&f.close(...e)),class:"text-4xl text-gray-600 focus:outline-none"}," × ")]),(0,t._)("div",i,[(0,t._)("form",{onSubmit:a[3]||(a[3]=(0,r.iM)(((...e)=>f.handleSubmit&&f.handleSubmit(...e)),["prevent"]))},[(0,t._)("label",d,[u,(0,t.wy)((0,t._)("input",{id:"email-field","onUpdate:modelValue":a[1]||(a[1]=e=>f.state.email.value=e),type:"email",class:(0,o.C_)([{"border-brand-danger":!!f.state.email.errorMessage},"block w-full px-4 py-3 mt-1 text-lg bg-gray-100 border-2 border-transparent rounded"]),placeholder:"email@email.com"},null,2),[[r.nr,f.state.email.value]]),f.state.email.errorMessage?((0,t.wg)(),(0,t.iD)("span",c,(0,o.zw)(f.state.email.errorMessage),1)):(0,t.kq)("",!0)]),(0,t._)("label",m,[g,(0,t.wy)((0,t._)("input",{id:"password-field","onUpdate:modelValue":a[2]||(a[2]=e=>f.state.password.value=e),type:"password",class:(0,o.C_)([{"border-brand-danger":!!f.state.password.errorMessage},"block w-full px-4 py-3 mt-1 text-lg bg-gray-100 border-2 border-transparent rounded"]),placeholder:"minhasenhasecreta"},null,2),[[r.nr,f.state.password.value]]),f.state.password.errorMessage?((0,t.wg)(),(0,t.iD)("span",p,(0,o.zw)(f.state.password.errorMessage),1)):(0,t.kq)("",!0)]),(0,t._)("button",{id:"submit-button",disabled:f.state.isLoading,type:"submit",class:(0,o.C_)([{"opacity-50":f.state.isLoading},"px-8 py-3 mt-10 text-2xl font-bold text-white rounded-full bg-brand-main focus:outline-none transition-all duration-150"])},[f.state.isLoading?((0,t.wg)(),(0,t.j4)(k,{key:0,class:"animate-spin",name:"loading"})):((0,t.wg)(),(0,t.iD)("span",w,"ENTRAR"))],10,b)],32)])],64)}s(7658);var y=s(4870),h=s(2483),k=s(5708),x=s(4677),v=s(2200),_=s(2726),M=s(6654),L=s(5157),E={components:{Icon:M.Z},setup(){const e=(0,x.pm)(),a=(0,h.tv)(),s=(0,v.Z)(),{value:t,errorMessage:r}=(0,k.U$)("email",L.p),{value:o,errorMessage:l}=(0,k.U$)("password",L.V),n=(0,y.qj)({hasErrors:!1,isLoading:!1,email:{value:t,errorMessage:r},password:{value:o,errorMessage:l}});async function i(){try{e.clear(),n.isLoading=!0;const{data:t,errors:r}=await _.Z.auth.login({email:n.email.value,password:n.password.value});if(!r)return localStorage.setItem("token",t.token),n.isLoading=!1,a.push({name:"Feedbacks"}),void s.close();404===r.status&&e.error("E-mail não encontrado."),401===r.status&&e.error("E-mail ou senha inválidos!"),400===r.status&&e.error("Ocorreu um erro ao efetuar login."),n.isLoading=!1}catch(t){n.isLoading=!1,n.hasErrors=!!t,e.error("Ocorreu um erro ao efetuar login.")}}return{state:n,close:s.close,handleSubmit:i}}},C=s(89);const S=(0,C.Z)(E,[["render",f]]);var D=S}}]);
//# sourceMappingURL=229.0a375e7c.js.map